<p><code>comint</code> provides Emacs infrastructure for building command
interpreters. It&#8217;s backing a lot of popular shell/REPL modes - like <code>eshell</code>,
<code>inferior-lisp</code>, <code>inf-ruby</code>, <code>inf-clojure</code>, etc.</p>

<p><code>comint</code> provides a myriad of built-in commands, but somewhat surprisingly
it doesn&#8217;t feature a command to clear the contents of a <code>comint</code> buffer.
Let&#8217;s write one such command ourselves!</p>

<p>While there are several way to tackle it, I feel this is the simplest
(and the one that makes the best use of <code>comint</code>&#8217;s existing
functionality):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nb">defun</span> <span class="nv">comint-clear-buffer</span> <span class="p">()</span>
</span><span class='line'>  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span><span class='line'>  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">comint-buffer-maximum-size</span> <span class="mi">0</span><span class="p">))</span>
</span><span class='line'>    <span class="p">(</span><span class="nv">comint-truncate-buffer</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="c1">;; let&#39;s bind the new command to a keycombo</span>
</span><span class='line'><span class="p">(</span><span class="nv">define-key</span> <span class="nv">comint-mode-map</span> <span class="s">&quot;\C-c\M-o&quot;</span> <span class="nf">#&#39;</span><span class="nv">comint-clear-buffer</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Simple and elegant, right? One day it might even end up being part of <code>comint</code> itself.</p>
